# Домашнее задание

В проекте библиотеки реализована интеграция с гугл-таблицей. Из нее в сервис подгружаются цены на книги.
У API гугл-таблиц есть свой реализованный клиент SheetsService. Подключение к нему также уже реализовано в классе GoogleSheetsIntegration. В этом же классе реализован метод ReadData, с помощью которого мы получаем данные из таблицы.

Напишите интеграционные тесты, которые будут проверять работоспособность нашей интеграции с гугл-таблицей.

В проекте Kontur.BigLibrary.Tests.Integration создайте класс GoogleSheetsIntegrationTests и поместите туда ваши тесты.

Сценарии, которые нужно проверить:
1. Структура таблицы верная.
Для этого теста используйте тестовую таблицу, которая полностью повторяет структуру основной таблицы. [Ссылка на таблицу](https://docs.google.com/spreadsheets/d/1krG2GsklEyNKlHATY2sPcTqMFqk87Nbma2sPLq7oaZ8/edit#gid=0).
Напишите тест, который проверит, что при получении конкретных ячеек таблицы вам вернется корректный список строк, описывающий названия колонок в таблице. Не забудьте проверить порядок элементов.

2. При чтении всей страницы возвратится вся информация на странице (заголовки столбцов + числовые данные).
В этом тесте вам нужно вспомнить весь материал, который проходили по интеграционным тестам.
Сначала необходимо создать свою гугл таблицу. Это проще сделать руками через интерфейс. Затем выдать сервисной учетке доступ на редактирование. Для этого нужно указать ее email (указан в файле с секретами в "client_email") в настройках доступа к таблице.
Далее переходим к написанию теста. В коде теста нужно заполнить гугл таблицу данными по аналогии с таблицей из 1 теста - это наш arrange. Затем протестировать метод чтения данных - его нужно вызвать в блоке act. В итоге вам нужно проверить, что данные, которыми вы заполнили таблицу совпадают с теми, что вы получили - это блок assert.
Подумайте про обеспечение возможности параллельного запуска тестов, чтобы одновременный прогон теста с разных устройств работал корректно. Для этого вам понадобится разграничение данных, о котором говорили на лекции про БД. Также подумайте про очистку данных.

Документация https://developers.google.com/sheets/api/reference/rest/v4/spreadsheets

Вам могут понадобиться методы:
1. Для добавления данных Spreadsheets.Values.Append(..)
2. Для разграничения данных при параллельном запуске метод Spreadsheets.BatchUpdate(..)
3. Для получения данных о таблице, страницах можно использовать метод Spreadsheets.Get(..)
