1. Использование Builder-а в DI

На лекции мы познакомились паттерном Builder. Чтобы закрепить тему с регистрацией зависимостей в DI-контейнере, добавьте BookBuilder в оба контейнера.

Для самопроверки: можете добавить в метод Build подсчет количества вызовов метода в экземпляре класса или включить параллельность для ваших тестов.

Подсказка: в каждом тесте у вас должен использоваться свой экземпляр BookBuilder-а.

2. Работа с БД

Напишите тесты на работу с БД.
Тесты должны находиться в папке BookRepositoryTests.

При большом желании вы можете написать тесты на все методы в этом классе, но для домашки будет достаточно этих тестов:

***GetBookAsync***
1. Тест на получение книги – этот тест уже написан GetBook_Exists_ReturnBook. Можете использовать его как пример.
2. Тест на книгу с длинным описанием.
   Подсказка: описание можно сгенерировать (скопипастить) один раз, использовать как константу. Подумайте, можно ли такую книгу переиспользовать в каких-то других тестах. Как ее создать, чтобы в дальнейшем использовать в тестах на другие методы.
3. Тест на несуществующую книгу.

***SelectBooksAsync***
1. Тест на поиск книги по имени.
   Подсказка: с точки зрения тестирования в тесте нужно использовать 2 книги. При проверке нужно убедиться, что поиск действительно работает, а не просто возвращает все существующие в базе книги.
2. Тест на работу с удаленными книгами.
   Подсказка: Можно не использовать метод удаления книги, а сразу создать книгу с признаком удаления.
3. Тест на проверку сортировки и использования смещения.
   Подсказка: с точки зрения тестирования у вас должно быть создано минимум 3 книги, потому что одна книга вам точно понадобится для тестирования смещения, а еще 2 при тестировании порядка. Если возьмете меньше книг, то не сможете гарантировать, что багов в методе нет.

***GetBookSummaryBySynonymAsync***
1. Тест на совпадение результата GetBookSummaryBySynonymAsync с результатом вызова метода SelectBooksSummaryAsync.
2. Тест на проверку статуса занятости у книги, если ее взял себе читатель. Создание читателя в тестах сделайте аналогично созданию книг.

Помните про правила написания хороших тестов, постарайтесь сделать так, чтобы все ваши тесты были параллельные.