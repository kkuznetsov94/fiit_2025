# Контур.Библиотека

## Общая информация о проекте:

- NET 6 приложение
- Не использует контуровские библиотеки

## Особенности окружения

- В контуровской сети заблочен npmjs.org. Вследствие этого все пакеты необходимо брать из nexus.kontur.host
- Если версия node.js >= 17, то для работы необходимо задавать переменной NODE_OPTIONS значение --openssl-legacy-provider
- Оба предыдущих пункта реализуются при запуске скрипта prepareEnvironment.bat

## БД:

- В качестве файловой БД испольуется [SQLite](https://www.sqlite.org/)
- Для полнотекстового поиска используется расширение [FTS5](https://www.sqlite.org/fts5.html)
- Данные лежат в проекте Kontur.BigLibrary.Service
- biglibrary.db - шаблон БД. По умолчанию уже содержит примененные скипты из папки DbScripts. Этот же шаблон используется в тестах.
- При сборке приложения, biglibrary.db копируется в папку с бинарями, и та копия используется в процессе работы приложения.
- При старте приложения, копия biglibrary.db обновляется данными из папки Data, и картинками из папки Images.
